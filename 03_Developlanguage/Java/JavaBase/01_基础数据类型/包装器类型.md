---
Title: Java 基础核心要点-基本数据类型-包装器类型
Category: Java
tags:
  - java
  - 包装器类型
---
包装器类型（Wrapper Types）是 Java 中的一种特殊类型，用于将基本数据类型（如 int、float、char 等）转换为对应的对象类型。  
  
Java 提供了以下包装器类型，与基本数据类型一一对应：  
  
- Byte（对应 byte）  
- Short（对应 short）  
- Integer（对应 int）  
- Long（对应 long）  
- Float（对应 float）  
- Double（对应 double）  
- Character（对应 char）  
- Boolean（对应 boolean）  
  
包装器类型允许我们使用基本数据类型提供的各种实用方法，并兼容需要对象类型的场景。例如，我们可以使用 Integer 类的 parseInt 方法将字符串转换为整数，或使用 Character 类的 isDigit 方法检查字符是否为数字，还有前面提到的 `Character.forDigit()` 方法。  
  
下面是一个简单的示例，演示了如何使用包装器类型：  
  
```java  
// 使用 Integer 包装器类型  
Integer integerValue = new Integer(42);  
System.out.println("整数值: " + integerValue);  
  
// 将字符串转换为整数  
String numberString = "123";  
int parsedNumber = Integer.parseInt(numberString);  
System.out.println("整数值: " + parsedNumber);  
  
// 使用 Character 包装器类型  
Character charValue = new Character('A');  
System.out.println("字符: " + charValue);  
  
// 检查字符是否为数字  
char testChar = '9';  
if (Character.isDigit(testChar)) {  
System.out.println("字符是个数字.");  
}  
```  
  
上面的示例中，我们创建了一个 Integer 类型的对象 integerValue 并为其赋值 42。然后，我们将其值打印到控制台。  
  
我们有一个包含数字的字符串 numberString。我们使用 `Integer.parseInt()` 方法将其转换为整数 parsedNumber。然后，我们将转换后的值打印到控制台。  
  
比如说 `parseInt()` 用于将字符串转换为整数，这也是非常常用的一个方法，尤其是遇到“数字字符串”转整数的时候。  
  
```java  
String text = "123";  
int number = Integer.parseInt(text);  
System.out.println(number);  
```  
  
可以简单看一下 `parseInt()` 的源码：  
  
```java  
public static int parseInt(String s, int radix) throws NumberFormatException {
    // 如果字符串为空或基数不在有效范围内，抛出 NumberFormatException
    if (s == null || radix < Character.MIN_RADIX || radix > Character.MAX_RADIX) {
        throw new NumberFormatException();
    }

    int result = 0; // 用于存储解析结果的变量
    boolean negative = false; // 标记数字是否为负数
    int i = 0, len = s.length(); // i 是字符索引，len 是字符串长度
    int limit = -Integer.MAX_VALUE; // 溢出检查的上限

    if (len > 0) {
        char firstChar = s.charAt(0); // 获取字符串的第一个字符
        if (firstChar == '-') { // 如果是负号
            negative = true; // 设置负数标记
            limit = Integer.MIN_VALUE; // 调整溢出上限为 Integer 的最小值
            i++;
        } else if (firstChar == '+') { // 如果是正号
            i++; // 仅跳过，不做额外操作
        }

        int multmin = limit / radix; // 计算溢出检查的临界值
        while (i < len) {
            // 将字符转换为对应的数字值
            int digit = Character.digit(s.charAt(i++), radix);
            if (digit < 0 || result < multmin || result * radix < limit + digit) {
                // 如果字符不是有效数字或者结果溢出，抛出 NumberFormatException
                throw new NumberFormatException();
            }
            // 累积结果
            result = result * radix - digit;
        }
    } else {
        // 如果字符串为空，抛出 NumberFormatException
        throw new NumberFormatException();
    }

    // 根据正负号返回最终结果
    return negative ? result : -result;
}
```  
  
简单解释一下：  
  
1. **空值检查**：首先检查输入字符串是否为 `null`，如果是，则抛出 `NumberFormatException`。  
  
2. **符号处理**：检查字符串的第一个字符以确定数字的符号（正或负）。如果字符串以“-”开头，则数字为负数，以“+”或数字开头则为正数。  
  
3. **数字转换**：遍历字符串中的每个字符，将字符转换为对应的数字。这是通过从字符中减去 '0' 的 ASCII 值来实现的。  
  
4. **结果计算**：计算最终的数字值。这是通过将每个数字乘以其位置权重（10 的幂）并累加到结果中来完成的。  
  
5. **溢出检查**：在整个转换过程中，代码会检查是否有溢出的风险。如果检测到溢出，将抛出 `NumberFormatException`。  
  
6. **返回结果**：根据数字的符号返回最终结果。  
  
这个源码对以后学习 LeetCode 的第八题「字符串转换整数 (atoi)」非常有帮助。  
  
我们有一个字符变量 testChar，并为其赋值字符 '9'。我们使用 `Character.isDigit()` 方法检查 testChar 是否为数字字符。如果是数字字符，我们将输出一条消息到控制台。  
  
从 Java 5 开始，自动装箱（Autoboxing）和自动拆箱（Unboxing）机制允许我们在基本数据类型和包装器类型之间自动转换，无需显式地调用构造方法或转换方法（链接里会细讲）。  
  
```java  
Integer integerValue = 42; // 自动装箱，等同于 new Integer(42)int primitiveValue = integerValue; // 自动拆箱，等同于 integerValue.intValue()  
```